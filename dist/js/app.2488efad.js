(function(t){function e(e){for(var n,o,r=e[0],c=e[1],u=e[2],d=0,f=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},i={app:0},a=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"057c":function(t,e,s){"use strict";s("af77")},"090b":function(t,e,s){},"27a2":function(t,e,s){"use strict";s("780c")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],o=(s("034f"),s("2877")),r={},c=Object(o["a"])(r,i,a,!1,null,null,null),u=c.exports,l=s("8c4f"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"login"},[s("div",{staticClass:"form"},[s("b-img",{attrs:{src:t.plenilogo}}),s("div",{staticClass:"title"},[t._v("PLENI - Saúde Mental")]),s("b-form-select",{attrs:{options:t.businessList},model:{value:t.business,callback:function(e){t.business=e},expression:"business"}}),s("b-input",{attrs:{type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("b-button",{attrs:{variant:"success"},on:{click:t.actLogin}},[t._v("Acessar")])],1)])},f=[],p=(s("99af"),s("5530")),v=s("2591"),h=function(t){v["a"].database().ref("/empresas").once("value",(function(e){e=e.val();var s=[];for(var n in s.push({value:null,text:"Selecione a sua empresa",disabled:!0}),e){var i=e[n];i.active&&s.push({value:Object(p["a"])(Object(p["a"])({},i),{},{id:n}),text:n})}t(s)}))},m={getBusinessList:h},b=s("c30e"),_=s.n(b),g={name:"Login",components:{},data:function(){return{password:"",plenilogo:_.a,business:null,businessList:[],uid:null}},mounted:function(){var t=this;m.getBusinessList((function(e){t.businessList=e}))},methods:{actLogin:function(){if(this.business)if(this.password===this.business.password){var t=999999,e=1,s=Math.round(Math.random()*(t-e)+e),n=(new Date).getTime();this.uid="".concat(n).concat(s),this.$router.push({name:"Main",params:{business:this.business,uid:this.uid}})}else alert("Senha incorreta!")}}},w=g,C=(s("d02b"),Object(o["a"])(w,d,f,!1,null,"6462609e",null)),O=C.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"main"},[s("div",{staticClass:"header"},[s("div",{staticClass:"title"},[t._v(t._s(t.business.id))]),s("div",{staticClass:"act",on:{click:t.actReturnLogin}},[t._m(0)])]),s("div",{staticClass:"sectors"},t._l(t.sectorList,(function(e){return s("div",{key:"sec-"+e.id,staticClass:"sec-card",on:{click:function(s){return t.actOpenForm(e)}}},[t._v(" "+t._s(e.id)+" ")])})),0)])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"b-icon"},[s("i",{staticClass:"fas fa-undo"})])}],k=function(t,e){v["a"].database().ref("/".concat(t)).once("value",(function(t){t=t.val();var s=[];for(var n in t)t[n].active&&s.push(Object(p["a"])(Object(p["a"])({},t[n]),{},{id:n}));e(s)}))},$={getSectors:k},S={name:"Main",components:{},data:function(){return{business:{id:null},sectorList:[],uid:null}},mounted:function(){var t,e,s=this,n=this.$route.params;this.uid=n.uid||null;var i=this.$route.params;this.business=i.business||{id:null},null!==(t=this.business)&&void 0!==t&&t.id||this.actReturnLogin(),null===this.uid&&this.actReturnLogin(),null!==(e=this.business)&&void 0!==e&&e.id&&$.getSectors(this.business.id,(function(t){s.sectorList=t}))},methods:{actReturnLogin:function(){this.$router.push("/")},actOpenForm:function(t){this.$router.push({name:"Form",params:{business:this.business,sector:t,uid:this.uid}})}}},x=S,L=(s("f0c6"),Object(o["a"])(x,y,j,!1,null,"47102d16",null)),M=L.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"form-all"},[s("div",{staticClass:"header"},[s("div",{staticClass:"title"},[t._v(t._s(t.business.id)+" - "+t._s(t.sector?t.sector.id:""))]),s("div",{staticClass:"act",on:{click:t.actReturn}},[t._m(0)])]),s("div",{staticClass:"questions"},t._l(t.questions,(function(e,n){return s("div",{key:"q-"+n,staticClass:"q-card"},[t._v(" "+t._s(n+1)+") "+t._s(e.title)+" "),s("div",{staticClass:"respostas"},[s("PleniRadioBtn",{on:{input:function(s){return t.actPleniRadioBtn(s,e)}}})],1)])})),0),s("div",{staticClass:"salvar"},[s("b-button",{staticClass:"btn_salvar",attrs:{type:"submit",variant:"primary"},on:{click:t.openModal}},[t._v("Salvar")]),s("modal-direction",{model:{value:t.modalOpen,callback:function(e){t.modalOpen=e},expression:"modalOpen"}})],1)])},A=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"b-icon"},[s("i",{staticClass:"fas fa-undo"})])}],R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"modal"},[s("div",{staticClass:"container"},[s("div",{staticClass:"modal__title"},[t._v("Direction")]),s("p",[t._v("Get a direction with your favourite apps")]),t._m(0),t._m(1),s("button",{staticClass:"mt-3 border-b border-teal font-semibold",on:{click:function(e){return e.preventDefault(),t.close(e)}}},[t._v(" Close ")])])])},E=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn gmaps",attrs:{href:"#"}},[s("img",{attrs:{src:"https://img.icons8.com/color/420/google-maps.png"}}),t._v(" Google Maps ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn waze",attrs:{href:"#"}},[s("img",{attrs:{src:"https://img.icons8.com/color/420/waze.png"}}),t._v(" Waze ")])}],q={name:"Modal",props:{value:{required:!0}},methods:{close:function(){this.$emit("input",!this.value)}}},z=q,B=(s("a0e1"),Object(o["a"])(z,R,E,!1,null,"19963fd2",null)),I=B.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"pleni-radio-btn"},[s("div",{staticClass:"btn-radio",class:{active:"Sim"===t.active},on:{click:function(e){return t.actActive("Sim")}}},[s("span",[t._v("Sim")])]),s("div",{staticClass:"btn-radio",class:{active:"Não"===t.active},on:{click:function(e){return t.actActive("Não")}}},[s("span",[t._v("Não")])]),s("div",{staticClass:"btn-radio",class:{active:"Às vezes"===t.active},on:{click:function(e){return t.actActive("Às vezes")}}},[s("span",[t._v("Às vezes")])])])},N=[],F={name:"PleniRadioBtn",components:{},data:function(){return{active:null}},mounted:function(){},methods:{actActive:function(t){this.active=t,this.$emit("input",t)}}},G=F,T=(s("27a2"),Object(o["a"])(G,D,N,!1,null,"1ad8bc72",null)),J=T.exports,Q=function(t){v["a"].database().ref("/questions").once("value",(function(e){e=e.val();var s=[];for(var n in e)e[n]&&s.push(Object(p["a"])(Object(p["a"])({},e[n]),{},{id:n}));t(s)}))},X=function(t){v["a"].database().ref("/respostas").once("value",(function(e){e=e.val();var s=[];for(var n in e)e[n]&&s.push(Object(p["a"])(Object(p["a"])({},e[n]),{},{id:n}));t(s)}))},K=function(t,e){v["a"].database().ref("/teste-resposta").push(t,(function(t){if(t)return console.error(t),void e(!1);e(!0)}))},H=function(t,e,s){v["a"].database().ref(t).update(e,(function(t){if(t)return console.error(t),void s(!1);s(!0)}))},U=function(t,e,s){return score},W={getQuestions:Q,getRespostas:X,postAnswers:K,getScore:U,updateAnswers:H},V={name:"FormAll",components:{PleniRadioBtn:J,ModalDirection:I},data:function(){return{modalOpen:!1,score:[],business:{id:null},uid:null,sector:null,questions:[{title:null,id:null,group:null}]}},mounted:function(){var t,e,s=this,n=this.$route.params;this.business=n.business||null,this.sector=n.sector||null,this.uid=n.uid||null,this.score.business=n.business,this.score.setor=n.sector,null!==(t=this.business)&&void 0!==t&&t.id&&null!==(e=this.sector)&&void 0!==e&&e.id&&null!==this.uid||this.$router.push("/"),W.getQuestions((function(t){s.questions=t})),W.getRespostas((function(t){s.respostas=t}))},methods:{openModal:function(){this.modalOpen=!this.modalOpen},actReturn:function(){this.$router.push({name:"Main",params:{business:this.business,uid:this.uid}})},uniqueCheck:function(t){this.additional_grouped=[],t.target.checked&&this.additional_grouped.push(t.target.value)},actPleniRadioBtn:function(t,e){var s=2;switch(t){case"Sim":s=1;break;case"Não":s=0;break}var n="respostas_coletadas/".concat(e.group,"/").concat(this.business.id,"/").concat(this.sector.id,"/").concat(this.uid,"//").concat(e.id),i={score:s};W.updateAnswers(n,i,(function(t){}))}}},Y=V,Z=(s("057c"),Object(o["a"])(Y,P,A,!1,null,"2523afb7",null)),tt=Z.exports;n["default"].use(l["a"]);var et=[{path:"/",name:"Login",component:O},{path:"/main",name:"Main",component:M},{path:"/form",name:"Form",component:tt}],st=new l["a"]({routes:et}),nt=st,it=s("2f62");n["default"].use(it["a"]);var at=new it["a"].Store({state:{},mutations:{},actions:{},modules:{}}),ot=s("5f5b");s("f9e3"),s("2dd8");n["default"].config.productionTip=!1,n["default"].use(ot["a"]);var rt={apiKey:"AIzaSyDbiqGKIAXBomz3rAIzAMhXSnHdXrG4TPQ",authDomain:"plenisaude-1086c.firebaseapp.com",databaseURL:"https://plenisaude-1086c-default-rtdb.firebaseio.com",projectId:"plenisaude-1086c",storageBucket:"plenisaude-1086c.appspot.com",messagingSenderId:"601884169648",appId:"1:601884169648:web:a1e5f0556068f82d05f275",measurementId:"G-508P19E2DJ"};v["a"].initializeApp(rt),new n["default"]({router:nt,store:at,render:function(t){return t(u)}}).$mount("#app")},"655f":function(t,e,s){},"780c":function(t,e,s){},"85ec":function(t,e,s){},a0e1:function(t,e,s){"use strict";s("e4c8")},af77:function(t,e,s){},c30e:function(t,e,s){t.exports=s.p+"img/pleni_logo.70deafe2.png"},d02b:function(t,e,s){"use strict";s("655f")},e4c8:function(t,e,s){},f0c6:function(t,e,s){"use strict";s("090b")}});
//# sourceMappingURL=app.2488efad.js.map